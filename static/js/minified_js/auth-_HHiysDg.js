function d(){return document.querySelector("[name=csrfmiddlewaretoken]").value}const s=document.getElementById("loginModal"),a=document.getElementById("logoutModal");document.getElementById("openLoginModal")?.addEventListener("click",()=>{s.classList.remove("hidden")});document.getElementById("closeLoginModal")?.addEventListener("click",()=>{s.classList.add("hidden")});document.getElementById("openLogoutModal")?.addEventListener("click",()=>{a.classList.remove("hidden")});document.getElementById("closeLogoutModal")?.addEventListener("click",()=>{a.classList.add("hidden")});document.getElementById("loginForm")?.addEventListener("submit",async e=>{e.preventDefault();const t=e.target,c=new FormData(t),o=await(await fetch("/login/",{method:"POST",headers:{"X-CSRFToken":d()},body:c})).json(),n=document.getElementById("loginError");o.success?window.location.reload():(n.textContent=o.message,n.classList.remove("hidden"))});document.getElementById("confirmLogout")?.addEventListener("click",async()=>{(await(await fetch("/logout/",{method:"POST",headers:{"X-CSRFToken":d()}})).json()).success&&window.location.reload()});
